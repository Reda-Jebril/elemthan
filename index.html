<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุญููู ุงููุฌูุงุช: ูุชุงุจ ุงูุงูุชุญุงู - ุงูุตู ุงูุฃูู ุงูุฅุนุฏุงุฏู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #fdfbf7; color: #1f2937; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin: 0 auto; height: 350px; max-height: 400px; }
        .card-flip { perspective: 1000px; }
        .card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .card-front, .card-back { backface-visibility: hidden; }
        .card-back { transform: rotateY(180deg); }
        .flipped { transform: rotateY(180deg); }
        /* Scrollbar styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
    </style>
    <!-- Chosen Palette: Warm Neutrals & Professional Blue. Background: #fdfbf7 (Warm Off-white), Primary: #1e3a8a (Deep Blue), Secondary: #d97706 (Amber), Accent: #10b981 (Emerald for recommendations). -->
    <!-- Application Structure Plan: 
         1. Hero Section: Sets the tone and context of the report.
         2. Executive Dashboard: Visualizes the quantitative comparison between 'Al-Emtihan' and 'Al-Adwaa' using charts (Data Clarity).
         3. The Critique Explorer: The core interactive section. Uses a Grid layout with filtering capabilities (Identity, Content, Pedagogy, Assessment). 
            Each item is a card that presents the 'Observation' (Problem) and flips/expands to reveal the 'Recommendation' (Solution). This promotes active exploration.
         4. Deep Dive Carousel: Highlights specific high-impact text critiques (like the 'Listening' issue) that need more reading space.
         5. Roadmap Summary: A concluding section summarizing the strategic value of the recommendations.
    -->
    <!-- Visualization & Content Choices:
         - Bar Chart (Chart.js): Comparing quantitative metrics (Page counts, Text counts) between Al-Emtihan and Al-Adwaa. Goal: Compare.
         - Interactive Cards (HTML/JS): To present the 19 critique points. Front shows the issue (Critique), Back shows the solution (Recommendation). Goal: Inform & Engage.
         - Category Filters: To organize the 19 points into manageable chunks. Goal: Organize.
         - Progress Indicators: Visualizing the "Score" or "Gap".
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-[#fdfbf7] min-h-screen flex flex-col">

    <!-- Header / Hero -->
    <header class="bg-[#1e3a8a] text-white py-12 shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-5xl font-bold mb-4 leading-tight">ุฑุคูุฉ ููุฏูุฉ ููุชุงุจ ุงูุงูุชุญุงู</h1>
            <p class="text-xl md:text-2xl text-blue-100 font-light mb-6">ุงููุบุฉ ุงูุนุฑุจูุฉ - ุงูุตู ุงูุฃูู ุงูุฅุนุฏุงุฏู</p>
            <div class="inline-block bg-blue-800 rounded-full px-6 py-2 text-sm md:text-base border border-blue-600">
                ุชุญููู ุงููุฌูุงุช โข ููุงุฑูุงุช ูุนูุงุฑูุฉ โข ุชูุตูุงุช ุงูุชุทููุฑ
            </div>
            <p class="mt-8 text-sm opacity-75">ุฅุนุฏุงุฏ ูุชุตููู: ุฑุถุง ุฌุจุฑูู</p>
        </div>
    </header>

    <!-- Context Intro -->
    <section class="container mx-auto px-4 py-10 max-w-4xl text-center">
        <p class="text-lg text-gray-700 leading-loose">
            ููุฏู ูุฐุง ุงูุชูุฑูุฑ ุชุญูููุงู ุนูููุงู ููุชุงุจ "ุงูุงูุชุญุงู"ุ ูุณูุทุงู ุงูุถูุก ุนูู ุงููุฌูุงุช ุงููููุฉ ูุงูุชุฑุจููุฉ ููุงุฑูุฉ ุจุงููุนุงููุฑ ุงูุญุฏูุซุฉ ูุงูููุงูุณูู. 
            ุชู ุชุญููู ุงูุชูุฑูุฑ ุงููุตู ุฅูู ุชุฌุฑุจุฉ ุชูุงุนููุฉ ุชุชูุญ ููููุชููู ุงุณุชูุดุงู <span class="font-bold text-[#1e3a8a]">ุงูููุงุญุธุงุช ุงูููุฏูุฉ</span> 
            ูููุงุจูุชูุง ุจู <span class="font-bold text-[#d97706]">ุงูุชูุตูุงุช ุงูุนูููุฉ</span> ููุงุฑุชูุงุก ุจุงูุชุฌุฑุจุฉ ุงูุชุนููููุฉ.
        </p>
    </section>

    <!-- Dashboard Section: Quantitative Analysis -->
    <section class="bg-white py-12 border-y border-gray-200">
        <div class="container mx-auto px-4">
            <div class="mb-10 text-center">
                <h2 class="text-2xl font-bold text-[#1e3a8a] mb-2">ููุญุฉ ุงููุนูููุงุช: ุงูููุงุฑูุฉ ุงููุนูุงุฑูุฉ</h2>
                <p class="text-gray-600">ููุงุฑูุฉ ูููุฉ ุจูู ูุชุงุจ "ุงูุงูุชุญุงู" ููุชุงุจ "ุงูุฃุถูุงุก" ุชูุดู ุนู ุชูุงูุช ูู ูุซุงูุฉ ูุนูู ุงููุญุชูู.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <!-- Chart 1: Content Volume -->
                <div class="bg-gray-50 p-6 rounded-xl shadow-sm border border-gray-100">
                    <h3 class="text-lg font-semibold text-center mb-4 text-gray-800">ุงููุฌูุฉ ุงููููุฉ ูู ุงููุญุชูู ูุงูุชุฏุฑูุจุงุช</h3>
                    <div class="chart-container">
                        <canvas id="contentVolumeChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-gray-500 mt-4">ุงูุฃุฑูุงู ุชูุซู ุนุฏุฏ ุงูุตูุญุงุช ุฃู ุงููุตูุต ูููุงู ููุชูุฑูุฑ</p>
                </div>

                <!-- Text Stats / Key Insights -->
                <div class="space-y-6">
                    <div class="bg-red-50 p-6 rounded-lg border-r-4 border-red-500">
                        <h4 class="font-bold text-red-800 text-lg mb-2">ูุตูุต ุงูุงุณุชูุงุน</h4>
                        <p class="text-gray-700 text-sm leading-relaxed">
                            ูุนุงูู ุงููุชุงุจ ูู ููุต ุญุงุฏ ูู ุนุฏุฏ ูุตูุต ุงูุงุณุชูุงุน (<span class="font-bold">33</span> ูุตุงู) ููุงุฑูุฉ ุจุงูููุงูุณ (<span class="font-bold">72</span> ูุตุงู)ุ ูุน ุทูู ููุฑุท ูู ุงููุตูุต ุงูููุฏูุฉ ููุง ูุดุชุช ุงูุชุจุงู ุงูุทุงูุจ.
                        </p>
                    </div>
                    <div class="bg-amber-50 p-6 rounded-lg border-r-4 border-amber-500">
                        <h4 class="font-bold text-amber-800 text-lg mb-2">ุงูุชุนุจูุฑ ุงููุชุงุจู</h4>
                        <p class="text-gray-700 text-sm leading-relaxed">
                            ุณูุงุณุฉ "ุงูุชูุดู" ูู ุตูุญุงุช ุงูุชุนุจูุฑ (<span class="font-bold">13</span> ุตูุญุฉ ููุท) ููุงุฑูุฉ ุจู (<span class="font-bold">29</span> ุตูุญุฉ) ููููุงูุณุ ุชุญุฑู ุงูุทุงูุจ ูู ุงููุณุงุญุฉ ุงููุงููุฉ ููุชุฏุฑูุจ ุงูููุงุฑู.
                        </p>
                    </div>
                    <div class="bg-blue-50 p-6 rounded-lg border-r-4 border-blue-500">
                        <h4 class="font-bold text-blue-800 text-lg mb-2">ุงูุฏุนู ุงูููุฌุณุชู</h4>
                        <p class="text-gray-700 text-sm leading-relaxed">
                            ุบูุงุจ ุชุงู ูุฎุทุฉ ุชูุฒูุน ุงููููุฌ ูุงูุชูููู ุงูุชุดุฎูุตู ูู ูุชุงุจ ุงูุงูุชุญุงูุ ุจูููุง ูููุฑูุง ุงูููุงูุณ ูุฃุฏูุงุช ุฃุณุงุณูุฉ ูููุนูู ูุงูุทุงูุจ.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Interactive Explorer -->
    <section class="py-12 container mx-auto px-4" id="explorer">
        <div class="text-center mb-10">
            <h2 class="text-3xl font-bold text-[#1e3a8a] mb-4">ุงุณุชูุดุงู ุงูููุงุญุธุงุช ูุงูุชูุตูุงุช</h2>
            <p class="text-gray-600 mb-8 max-w-2xl mx-auto">ุงุถุบุท ุนูู ุงูุจุทุงูุฉ ูููุจูุง ูุฑุคูุฉ ุงูุชูุตูุฉ ุงูููุชุฑุญุฉ ููุนุงูุฌุฉ ุงููุฌูุฉ.</p>
            
            <!-- Filters -->
            <div class="flex flex-wrap justify-center gap-3 mb-8" id="filters">
                <button onclick="filterCards('all')" class="filter-btn active px-5 py-2 rounded-full text-sm font-semibold transition-all bg-[#1e3a8a] text-white shadow-md hover:bg-blue-900">ุงููู</button>
                <button onclick="filterCards('design')" class="filter-btn px-5 py-2 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 border border-gray-200">ุงููููุฉ ูุงูุชุตููู</button>
                <button onclick="filterCards('structure')" class="filter-btn px-5 py-2 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 border border-gray-200">ุงูุจููุฉ ูุงููุญุชูู</button>
                <button onclick="filterCards('pedagogy')" class="filter-btn px-5 py-2 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 border border-gray-200">ุงูุชุฑุจูุฉ ูุงูููุงุฑุงุช</button>
                <button onclick="filterCards('assessment')" class="filter-btn px-5 py-2 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 border border-gray-200">ุงูุชูููู ูุงููุฑุงุฌุนุฉ</button>
            </div>
        </div>

        <!-- Cards Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="cardsGrid">
            <!-- Cards will be injected via JS -->
        </div>
    </section>

    <!-- Listening Analysis Drill-down (Specific Feature) -->
    <section class="bg-[#1e3a8a] text-white py-16">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-3xl font-bold mb-6 border-b-2 border-amber-500 inline-block pb-2">ูุถูุฉ ูุตูุต ุงูุงุณุชูุงุน</h2>
                    <p class="text-lg leading-loose opacity-90 mb-6">
                        ูุงุญุฏุฉ ูู ุฃุฎุทุฑ ุงูููุงุญุธุงุช ูู ูููุฌูุฉ ุงูุชุนุงูู ูุน "ููุงุฑุฉ ุงูุงุณุชูุงุน". ุงููุชุงุจ ูุญูู ุงูุงุฎุชุจุงุฑ ุงูุณูุนู ุฅูู ุงุฎุชุจุงุฑ ูุฑุงุกุฉ ูููุน ูู ุฎูุงู ุนุฑุถ ุงูุฃุณุฆูุฉ ูุงููุตูุต ุฃูุงู ุนูู ุงูุทุงูุจ.
                    </p>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-start">
                            <span class="text-2xl ml-3">โ๏ธ</span>
                            <div>
                                <strong class="block text-amber-400">ุทูู ุงููุตูุต ุงูููุฑุท</strong>
                                <span class="text-sm opacity-80">ูุตูุต ุชุตู ุฅูู 155 ูููุฉุ ููุง ูุฑูู ุงูุฐุงูุฑุฉ ุงูุนุงููุฉ ููุทุงูุจ (ุงููุนูุงุฑ: 60-80 ูููุฉ).</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-2xl ml-3">๐ซ</span>
                            <div>
                                <strong class="block text-amber-400">ุงุบุชูุงู ุงูููุงุฑุฉ</strong>
                                <span class="text-sm opacity-80">ูุฌูุฏ ุฅุญุงูุงุช ุจุตุฑูุฉ ("ูู ุงูููุฑุฉ ุงูุฃููู") ููุบู ุงูุงุนุชูุงุฏ ุนูู ุงูุฃุฐู.</span>
                            </div>
                        </li>
                    </ul>
                    <button onclick="scrollToExplorer()" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-8 rounded shadow-lg transition transform hover:-translate-y-1">
                        ุงุณุชุนุฑุงุถ ุงูุญู ุงูููุชุฑุญ
                    </button>
                </div>
                
                <div class="bg-white/10 p-8 rounded-xl backdrop-blur-sm border border-white/20">
                    <h3 class="text-xl font-bold mb-4 text-center">ูุคุดุฑ ุฌูุฏุฉ ุงูุงุณุชูุงุน</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="listeningChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Closing Recommendations Summary -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4 text-center max-w-4xl">
            <h2 class="text-3xl font-bold text-[#1e3a8a] mb-8">ุฎุงุฑุทุฉ ุงูุทุฑูู: ุฃูู 3 ุชุฏุฎูุงุช ุนุงุฌูุฉ</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow border-t-4 border-amber-500">
                    <div class="text-4xl mb-4">๐งญ</div>
                    <h3 class="font-bold text-lg mb-2">ุจูููุตูููุฉ ุงูุงูุชุญุงู</h3>
                    <p class="text-sm text-gray-600">ุชุญููู ููุฏูุฉ ุงููุชุงุจ ูููุงุชุฌ ุงูุชุนูู ุฅูู ุฑุญูุฉ ุจุตุฑูุฉ ููุชุนุฉ ุชุดุฑุญ "ุชุตููู ุจููู" ุจูุบุฉ ุงูุทุงูุจ.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow border-t-4 border-amber-500">
                    <div class="text-4xl mb-4">๐ฉน</div>
                    <h3 class="font-bold text-lg mb-2">ุงูุชูููู ุงูุชุดุฎูุตู</h3>
                    <p class="text-sm text-gray-600">ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ูุจูู ุดุงูู ูุน ุฎุทุฉ ุนูุงุฌูุฉ ููุฑูุฉ ูุฑุฏู ูุฌูุฉ ุงูุงูุชูุงู ูู ุงูุงุจุชุฏุงุฆูุฉ.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow border-t-4 border-amber-500">
                    <div class="text-4xl mb-4">๐๏ธ</div>
                    <h3 class="font-bold text-lg mb-2">ุงูุฑูุฌูู ุงููุตู</h3>
                    <p class="text-sm text-gray-600">ุงุฎุชุฒุงู ูุตูุต ุงูุงุณุชูุงุน ุจูุณุจุฉ 40% ูุฅุฒุงูุฉ ุงููุซูุฑุงุช ุงูุจุตุฑูุฉ ูุถูุงู ูุตุฏุงููุฉ ุงูููุงุณ.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-8 text-center">
        <div class="container mx-auto px-4">
            <p>&copy; 2024 ุชูุฑูุฑ ูุฑุงุฌุนุฉ ุฌูุฏุฉ ุงููุญุชูู ุงูุชุนูููู.</p>
            <p class="text-sm mt-2">ุชู ุฅูุดุงุก ูุฐุง ุงูุนุฑุถ ุงูุชูุงุนูู ุจูุงุกู ุนูู ุงูุชูุฑูุฑ ุงููุตู ุงูููุฏู.</p>
        </div>
    </footer>

    <!-- JS Logic -->
    <script>
        // --- Data Source ---
        const reportData = [
            { id: 1, title: "ุงูุบูุงู: ุงูุชูุงูุฑ ุงูุซูุงูู", category: "design", icon: "๐จ", critique: "ุดุฎุตูุฉ ุจููุณุงุฑ ุชูุณู ูุชุงุจุงู ููุชุญ ูู ุงููุณุงุฑ (ุฃุฌูุจู). ูุฐุง ูุถุนู ุฃุตุงูุฉ ุงููููุฉ ุงูุนุฑุจูุฉ.", recommendation: "ุงุณุชุฎุฏุงู ุตูุฑ ุญูุฉ ูุทูุงุจ ูุตุฑููู ูุชุตุญูุญ ุงุชุฌุงู ุงููุชุงุจ ูุชุนุฒูุฒ ุงูุงุฑุชุจุงุท ุงูุนุงุทูู." },
            { id: 2, title: "ุงูุบูุงู: ุงูุชุดููุด ุงูุชุณูููู", category: "design", icon: "๐ข", critique: "ุนุจุงุฑุฉ 'ุชุทุจูู ุงูุงูุชุญุงู' ุชุทุบู ุนูู ุงูุนููุงูุ ููุง ูุฌุนูู ูุจุฏู ูุฅุนูุงู.", recommendation: "ููู ุงูุนุจุงุฑุฉ ูุดุฑูุท ุฌุงูุจู ุฃู ูุณุงู (Badge) ููุตู ุงูุชุณููู ุนู ุงูุชุนููู." },
            { id: 3, title: "ุงูููุฏูุฉ ูุชุตููู ุจููู", category: "pedagogy", icon: "๐ง", critique: "ููุฏูุฉ ุฑูุชูููุฉ ุฎุงููุฉ ูู ุงููุฑุฌุนูุฉ ุงูุชุฑุจููุฉ ููุงุฑูุฉ ุจู 'ุงูุฃุถูุงุก' ุงูุฐู ุดุฑุญ ุชุตููู ุจููู.", recommendation: "ุฅูุดุงุก ุฅูููุฌุฑุงููู 'ุจูููุตูููุฉ ุงูุงูุชุญุงู' ูุดุฑุญ ูุณุชููุงุช ุงูุชูููุฑ ุจูุบุฉ ุงูุทุงูุจ." },
            { id: 4, title: "ุฏููู ุงููุชุงุจ: ุงูุฒุญุงู ุงูุจุตุฑู", category: "design", icon: "๐", critique: "ุตูุฑ ูุตุบุฑุฉ ููุตูุญุงุช ูุง ุชูุฑุฃุ ููุต ููุถุญ ุงููุงุถุญุงุช (ุญุดู).", recommendation: "ุงุณุชุฎุฏุงู ุชูููุฉ 'ุงูุนุฏุณุฉ ุงูููุจุฑุฉ' (Zoom) ูุฅุจุฑุงุฒ ุฌูุงููุงุช ุงูุชุตููู ุงูุฏุงุฎูู ุจุฏูุงู ูู ุณุฑุฏู." },
            { id: 5, title: "ุงููุตุทูุญุงุช ูุงูููุงููู", category: "structure", icon: "๐", critique: "ูุตุฑ ุงููุธูุฉ ุงูููุงููููุฉ ุนูู 5 ูุตุทูุญุงุช ููุท ูุชูุฑุงุฑูุงุ ููุง ูููู ุงูููู ุงูุนููู.", recommendation: "ูููุฌูุฉ 'ุงููุจุณููุฉ ุงููุนุฑููุฉ': ุชูุณูุน ุงููุงุฆูุฉุ ุชุนุฑูู ูุจุณุทุ ูุซุงูุ ูุชุฏุฑูุจ ููุฑู." },
            { id: 6, title: "ุงูููุฑุณ: ุงูููุทู ุงูุชุตูููู", category: "structure", icon: "๐", critique: "ููุงุฑูุฉ ุบูุฑ ูุชูุงูุฆุฉ ุจูู 'ุงููุญุฏุงุช' (ุดุงูู) ู'ุงููุญู' (ูุฑุนู) ูู ุงูุนูุงููู ุงูุฑุฆูุณูุฉ.", recommendation: "ุฅุนุงุฏุฉ ุงูููููุฉ ุจุฏูุฌ ุงููุฑูุน ุชุญุช ุงููุญุฏุงุช ุฃู ุชุนุฏูู ุงูุนูุงููู ูุชุญููู ุงูุชูุงุฒู." },
            { id: 7, title: "ุชูุฒูุน ุงููููุฌ", category: "structure", icon: "๐", critique: "ุบูุงุจ ุตูุญุฉ ุชูุฒูุน ุงููููุฌ ุชูุงูุงูุ ููุง ููุซู ุนุจุฆุงู ุนูู ุงููุนูู.", recommendation: "ุฅุฏุฑุงุฌ ุฎุฑูุทุฉ ุฒูููุฉ ุชูุงุนููุฉ ูุน QR Code ููุชุญุฏูุซุงุช ุงููุฒุงุฑูุฉ." },
            { id: 8, title: "ููุงุชุฌ ุงูุชุนูู", category: "pedagogy", icon: "๐ฏ", critique: "ุบูุงุจ ุงูุฑุจุท ุจูู ููุงุชุฌ ุงูุชุนูู ูุดูู ุงูุณุคุงู ุงูุงูุชุญุงูู. ุชุฏุงุฎู ุงูุตูุญุงุช ูุน ุงููุฑุงุฌุนุฉ.", recommendation: "ุฌุฏูู ุซูุงุซู: ูุฎุฑุฌ ุงูุชุนูู -> ุตูุบุฉ ุงูุณุคุงู -> ููุชุงุญ ุงูุญู." },
            { id: 9, title: "ุงูุชูููู ุงูุชุดุฎูุตู", category: "assessment", icon: "๐ฉบ", critique: "ุบูุงุจ ุงูุชูููู ุงููุจูู ุชูุงูุงูุ ูุชุฌุงููุงู ูุฌูุฉ ุงูุงูุชูุงู ูู ุงูุงุจุชุฏุงุฆูุฉ.", recommendation: "ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุชุดุฎูุตู ูุน ุชูุฌูู ุนูุงุฌู ููุฑู (ุฑุงุฌุน ุตูุญุฉ ูุฐุง)." },
            { id: 10, title: "ูููู ุงููุฑุงุฌุนุฉ ุงูุนุงูุฉ", category: "assessment", icon: "๐๏ธ", critique: "ูุฑุงุฌุนุฉ ูุฌุฒุฃุฉ ูุบูุฑ ูุฑูุฒุฉ (4 ุตูุญุงุช ููุท ูููุฑุงุกุฉ ูุงููุตูุต).", recommendation: "ุฅูุดุงุก ูุตู ุชูููุฏู ููุญุฏ 'ุจูุงุจุฉ ุงูุนุจูุฑ' ูุดูู ูุณุญุงู ุดุงููุงู ูุชุฏุฑูุจุงู ููุฑูุงู." },
            { id: 11, title: "ูุญุชูู ุงููุฑุงุฌุนุฉ", category: "content", icon: "๐", critique: "ุญุดู ุฃูุงุฏููู (ุงูุฌุฐุฑ ุงููุบูู) ูุฃุฎุทุงุก ูุบููุฉ ูู ุตูุงุบุฉ ุงูููุงุนุฏ.", recommendation: "ุญุฐู ุงูุญุดู ุบูุฑ ุงููุทุงูุจ ุจูุ ูุงุนุชูุงุฏ ูุชุงุจุฉ ุงูุฌุฐูุฑ ููุฑูุฉ (ู ุถ ู) ููุฏูุฉ." },
            { id: 12, title: "ุฃูุซูุฉ ุงูุจูุงุบุฉ", category: "content", icon: "๐ฃ๏ธ", critique: "ุฌููุฏ ุงูุฃูุซูุฉ (ุงูุฌูุฏู ุฃุณุฏ) ูุงููุตุงููุง ุนู ูุงูุน ุงูุทุงูุจ.", recommendation: "ุชุฌุฏูุฏ ุงูุฃูุซูุฉ ูุชุนูุณ ุงููุนู ุงูุฑููู ูุงูุจูุฆู (ุงููุงุชู ูุต ุงูููุช)." },
            { id: 13, title: "ุงูุชุฏุฑูุจุงุช ุงูุดุงููุฉ", category: "assessment", icon: "๐๏ธ", critique: "ุงูุนููุงู ูุถููุ ุงูุชุฏุฑูุจุงุช ุชุบุทู 50% ููุท ูู ุงููุฑูุน (ูุฑุงุกุฉ ููุตูุต).", recommendation: "ุชุนุฏูู ุงูุนููุงู ุฅูู 'ุชุทุจููุงุช ุนุงูุฉ' ุฃู ุฅุถุงูุฉ ุชุฏุฑูุจุงุช ูุจุงูู ุงููุฑูุน." },
            { id: 14, title: "ูุซุงูุฉ ูุตูุต ุงูุงุณุชูุงุน", category: "content", icon: "๐ง", critique: "ุทูู ููุฑุท ูููุตูุต (155 ูููุฉ) ูููุฉ ุนุฏุฏูุง (33 ูุตุงู).", recommendation: "ุณูุงุณุฉ 'ุงูุฑูุฌูู ุงููุตู': ุงุฎุชุฒุงู ุงููุตูุต ุฅูู 80 ูููุฉ ูุฒูุงุฏุฉ ุนุฏุฏูุง." },
            { id: 15, title: "ูููุฌูุฉ ุงูุงุณุชูุงุน", category: "assessment", icon: "๐๏ธ", critique: "ุนุฑุถ ุงูุฃุณุฆูุฉ ูุตูุงู ุฃูุงู ุงูุทุงูุจ ูุญูู ุงูุงุฎุชุจุงุฑ ูู ุณูุนู ุฅูู ุจุตุฑู.", recommendation: "ุญุฌุจ ุงููุซูุฑ ุงูุจุตุฑู ูุชุบููุฑ ุตูุบุฉ ุงูุณุคุงู ููุนุชูุฏ ูููุงู ุนูู ุงูุฃุฐู." },
            { id: 16, title: "ุฌูุฏุฉ ุงูุฃุณุฆูุฉ ุงูููุถูุนูุฉ", category: "assessment", icon: "โ", critique: "ุถุนู ุงููุดุชุชุงุชุ ุชูุฑุงุฑ ุงูุจุฏุงุฆูุ ูุงูุชุฑููุฒ ุนูู ูุงุน ูุฑู ุจููู (ุชุฐูุฑ).", recommendation: "ุชูููุน ุงูุฎูุงุฑุงุชุ ุชุนุฒูุฒ ุงูุฃุณุฆูุฉ ุงููููููุฉุ ูุชุตููู ูุดุชุชุงุช ุฐููุฉ." },
            { id: 17, title: "ุงูููุญุฉ ุงูุฃุฏุจูุฉ", category: "pedagogy", icon: "๐", critique: "ุชุฃุฎูุฑ ุงูููุงููู ูููุงูุฉ ุงููุตุ ูุงุณุชุฎุฏุงู ูุตุทูุญุงุช ุบูุฑ ุฏูููุฉ (ุงูุชุตุฑูุน).", recommendation: "ุชูุฏูู ุงูููุญุฉ ูุจู ุงููุต ููุชููุฆุฉุ ูุงูุงูุชุฒุงู ุจูุตุทูุญุงุช ุงููุฒุงุฑุฉ." },
            { id: 18, title: "ุงูููุงุนุฏ ุงูุฅููุงุฆูุฉ", category: "content", icon: "โ๏ธ", critique: "ูุตูุฑ ููู (6 ุตูุญุงุช) ูุฃุฎุทุงุก ุนูููุฉ ูู ุงูุฃูุซูุฉ (ูุคูุงุก).", recommendation: "ุงูุชุญูู ููุฅูููุฌุฑุงูููุ ุชูููุญ ุงูุฃูุซูุฉุ ูุฅุซุฑุงุก ุจูู ุงูุฃุณุฆูุฉ." },
            { id: 19, title: "ุงูุชุนุจูุฑ ุงููุชุงุจู", category: "content", icon: "๐๏ธ", critique: "ูุณุงุญุฉ ุถุฆููุฉ (13 ุตูุญุฉ) ูุงุฎุชุจุงุฑ ููุฐุงูุฑุฉ ุจุฏูุงู ูู ููุงุฑุฉ ุงููุชุงุจุฉ.", recommendation: "ูุถุงุนูุฉ ุงููุณุงุญุฉุ ูุชูููุฑ 'ุตูุฏูู ูุนูููุงุช' ูุณูุงูุงุช ุชุนููููุฉ ูููุชุงุจุฉ." }
        ];

        // --- Render Functions ---
        
        function renderCards(filter = 'all') {
            const grid = document.getElementById('cardsGrid');
            grid.innerHTML = '';
            
            const filteredData = filter === 'all' 
                ? reportData 
                : reportData.filter(item => item.category === filter);

            filteredData.forEach(item => {
                const cardWrapper = document.createElement('div');
                cardWrapper.className = 'card-flip h-80 w-full cursor-pointer group';
                cardWrapper.onclick = function() {
                    this.querySelector('.card-inner').classList.toggle('flipped');
                };

                // Styling based on category for subtle hints
                let borderClass = 'border-gray-200';
                if(item.category === 'design') borderClass = 'border-purple-200';
                if(item.category === 'pedagogy') borderClass = 'border-blue-200';
                if(item.category === 'assessment') borderClass = 'border-red-200';
                if(item.category === 'structure') borderClass = 'border-green-200';

                cardWrapper.innerHTML = `
                    <div class="card-inner relative w-full h-full transition-all duration-500 transform-gpu">
                        <!-- Front: Critique -->
                        <div class="card-front absolute w-full h-full bg-white rounded-xl shadow-md border-2 ${borderClass} p-6 flex flex-col items-center justify-center text-center hover:shadow-xl transition-shadow">
                            <div class="text-4xl mb-4">${item.icon}</div>
                            <h3 class="font-bold text-lg text-gray-800 mb-2">${item.title}</h3>
                            <div class="bg-red-50 text-red-800 px-3 py-1 rounded-full text-xs font-bold mb-4">ุงูููุญูุธุฉ (ุงููุฌูุฉ)</div>
                            <p class="text-gray-600 text-sm leading-relaxed">${item.critique}</p>
                            <p class="mt-auto text-xs text-gray-400 font-semibold pt-4">ุงุถุบุท ูุนุฑุถ ุงูุญู โบ</p>
                        </div>
                        
                        <!-- Back: Recommendation -->
                        <div class="card-back absolute w-full h-full bg-[#1e3a8a] rounded-xl shadow-md p-6 flex flex-col items-center justify-center text-center text-white">
                            <div class="text-4xl mb-4">๐ก</div>
                            <h3 class="font-bold text-lg text-amber-400 mb-2">ุงูุชูุตูุฉ ุงูููุชุฑุญุฉ</h3>
                            <p class="text-gray-100 text-sm leading-relaxed">${item.recommendation}</p>
                             <p class="mt-auto text-xs text-blue-300 font-semibold pt-4">ุงุถุบุท ููุนูุฏุฉ โบ</p>
                        </div>
                    </div>
                `;
                grid.appendChild(cardWrapper);
            });
        }

        // --- Filter Logic ---
        function filterCards(category) {
            renderCards(category);
            
            // Update UI buttons
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick').includes(category)) {
                    btn.classList.remove('bg-white', 'text-gray-600', 'hover:bg-gray-100', 'border', 'border-gray-200');
                    btn.classList.add('bg-[#1e3a8a]', 'text-white', 'shadow-md');
                } else {
                    btn.classList.add('bg-white', 'text-gray-600', 'hover:bg-gray-100', 'border', 'border-gray-200');
                    btn.classList.remove('bg-[#1e3a8a]', 'text-white', 'shadow-md');
                }
            });
        }

        function scrollToExplorer() {
            document.getElementById('explorer').scrollIntoView({behavior: 'smooth'});
            filterCards('content'); // Auto filter to show content issues including listening
        }

        // --- Charts Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderCards();

            // Chart 1: Content Volume (Emtihan vs Adwaa)
            const ctx1 = document.getElementById('contentVolumeChart').getContext('2d');
            new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['ุนุฏุฏ ูุตูุต ุงูุงุณุชูุงุน', 'ุตูุญุงุช ุงูุฅููุงุก', 'ุตูุญุงุช ุงูุชุนุจูุฑ'],
                    datasets: [
                        {
                            label: 'ูุชุงุจ ุงูุงูุชุญุงู',
                            data: [33, 6, 13],
                            backgroundColor: '#1e3a8a',
                            borderRadius: 4
                        },
                        {
                            label: 'ูุชุงุจ ุงูุฃุถูุงุก (ุงูููุงูุณ)',
                            data: [72, 15, 29],
                            backgroundColor: '#d1d5db',
                            borderRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { family: 'Tajawal' } } },
                        tooltip: { titleFont: { family: 'Tajawal' }, bodyFont: { family: 'Tajawal' } }
                    },
                    scales: {
                        y: { beginAtZero: true, grid: { color: '#f3f4f6' } },
                        x: { grid: { display: false }, ticks: { font: { family: 'Tajawal' } } }
                    }
                }
            });

            // Chart 2: Listening Quality (Word Count vs Standard)
            // Lower is better for this specific metric (80 words is the standard)
            const ctx2 = document.getElementById('listeningChart').getContext('2d');
            new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['ุงููุนูุงุฑ ุงูุนุงููู (ุงููููุงุช)', 'ุฒูุงุฏุฉ ุงูุนุจุก ูู ุงูุงูุชุญุงู'],
                    datasets: [{
                        data: [80, 75], // 80 standard, 155 total (so 75 excess)
                        backgroundColor: ['#10b981', '#ef4444'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: { position: 'bottom', labels: { color: 'white', font: { family: 'Tajawal' } } },
                        tooltip: { 
                            callbacks: {
                                label: function(context) {
                                    if(context.label.includes('ุงููุนูุงุฑ')) return ' ุงููุนูุงุฑ: 80 ูููุฉ ูุญุฏ ุฃูุตู';
                                    return ' ุงูุงูุชุญุงู: 155 ูููุฉ (ุนุจุก ุฒุงุฆุฏ)';
                                }
                            },
                            bodyFont: { family: 'Tajawal' }
                        }
                    }
                }
            });
        });

    </script>
</body>
</html>
